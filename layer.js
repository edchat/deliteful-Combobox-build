require.config({"config":{"delite/theme":{"layersMap":{"delite/themes/{{theme}}/common.css":"deliteful-Combobox-build/themes/layer_{{theme}}.css","delite/themes/{{theme}}/global.css":"deliteful-Combobox-build/themes/layer_{{theme}}.css","deliteful/ProgressIndicator/themes/{{theme}}/ProgressIndicator.css":"deliteful-Combobox-build/themes/layer_{{theme}}.css","deliteful/Combobox/themes/{{theme}}/Combobox.css":"deliteful-Combobox-build/themes/layer_{{theme}}.css","deliteful/Button/themes/{{theme}}/Button.css":"deliteful-Combobox-build/themes/layer_{{theme}}.css","deliteful/LinearLayout/themes/{{theme}}/LinearLayout.css":"deliteful-Combobox-build/themes/layer_{{theme}}.css","deliteful/list/List/themes/{{theme}}/List.css":"deliteful-Combobox-build/themes/layer_{{theme}}.css","deliteful/list/List/themes/{{theme}}/List_rtl.css":"deliteful-Combobox-build/themes/layer_{{theme}}.css"}}}});require.config({"config":{"requirejs-dplugins/i18n":{"bundlesMap":{"deliteful-Combobox-build/nls/layer":["deliteful/Combobox/nls/Combobox"]},"localesMap":{"deliteful-Combobox-build/nls/layer":["root"]}}}});
define("delite/theme",["require","requirejs-dplugins/has","module","requirejs-dplugins/css"],function(a,b,c,d){"use strict";var e=c.config(),f={themeMap:e.themeMap||[[/.*/,"bootstrap"]],getTheme:function(){var a=f.theme||e.theme;if(!a){var b=location.search.match(/theme=(\w+)/);a=b&&b.length>1?b[1]:null}if(!a)for(var c=e.userAgent||(location.search.match(/ua=(\w+)/)?RegExp.$1:navigator.userAgent),d=this.themeMap,g=0;g<d.length;g++)if(d[g][0].test(c)){a=d[g][1];break}return f.theme=a,a},load:function(g,i,j){e=c.config();var k=c.id.replace(/\/.*/,"")+"/themes/{{theme}}/common.css",l=g?[k,g]:[k];if(b("builder"))return l.forEach(function(a){d.buildFunctions.addOnce(h,a)}),void j();e.layersMap&&(l=l.map(function(a){return e.layersMap[a]||a}));var m=l.map(function(a){return d.id+"!"+a.replace(/{{theme}}/,f.getTheme())});a(m,function(){j(arguments)})}};if(b("builder")){var g,h=[];f.writeFile=function(a,b,c,d){g=d},f.onLayerEnd=function(a,b){function e(a){var c=/^(?:\.\/)?(([^\/]*\/)*)[^\/]*$/;return b.path.replace(c,"$1themes/layer_"+(a||"{{theme}}")+".css")}if(b.name&&b.path){var i=f.themeMap.map(function(a){var b=a[1],c=e(b),f=h.map(function(a){return a.replace(/{{theme}}/g,b)});return d.buildFunctions.writeLayer(g,c,f)}).every(function(a){return a}),j=b.name.replace(/^(([^\/]*\/)*)[^\/]*$/,"$1themes/layer_{{theme}}.css");i&&d.buildFunctions.writeConfig(a,c.id,j,h),h=[]}}}return f}),define("requirejs-text/text",["module"],function(a){"use strict";var b,c,d,e,f,g=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],h=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,i=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,j="undefined"!=typeof location&&location.href,k=j&&location.protocol&&location.protocol.replace(/\:/,""),l=j&&location.hostname,m=j&&(location.port||void 0),n={},o=a.config&&a.config()||{};return b={version:"2.0.14",strip:function(a){if(a){a=a.replace(h,"");var b=a.match(i);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:o.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;3>b;b+=1){c=g[b];try{a=new ActiveXObject(c)}catch(d){}if(a){g=[c];break}}return a},parseName:function(a){var b,c,d,e=!1,f=a.lastIndexOf("."),g=0===a.indexOf("./")||0===a.indexOf("../");return-1!==f&&(!g||f>1)?(b=a.substring(0,f),c=a.substring(f+1)):b=a,d=c||b,f=d.indexOf("!"),-1!==f&&(e="strip"===d.substring(f+1),d=d.substring(0,f),c?c=d:b=d),{moduleName:b,ext:c,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,c,d,e){var f,g,h,i=b.xdRegExp.exec(a);return i?(f=i[2],g=i[3],g=g.split(":"),h=g[1],g=g[0],!(f&&f!==c||g&&g.toLowerCase()!==d.toLowerCase()||(h||g)&&h!==e)):!0},finishLoad:function(a,c,d,e){d=c?b.strip(d):d,o.isBuild&&(n[a]=d),e(d)},load:function(a,c,d,e){if(e&&e.isBuild&&!e.inlineText)return void d();o.isBuild=e&&e.isBuild;var f=b.parseName(a),g=f.moduleName+(f.ext?"."+f.ext:""),h=c.toUrl(g),i=o.useXhr||b.useXhr;return 0===h.indexOf("empty:")?void d():void(!j||i(h,k,l,m)?b.get(h,function(c){b.finishLoad(a,f.strip,c,d)},function(a){d.error&&d.error(a)}):c([g],function(a){b.finishLoad(f.moduleName+"."+f.ext,f.strip,a,d)}))},write:function(a,c,d){if(n.hasOwnProperty(c)){var e=b.jsEscape(n[c]);d.asModule(a+"!"+c,"define(function () { return '"+e+"';});\n")}},writeFile:function(a,c,d,e,f){var g=b.parseName(c),h=g.ext?"."+g.ext:"",i=g.moduleName+h,j=d.toUrl(g.moduleName+h)+".js";b.load(i,d,function(){var c=function(a){return e(j,a)};c.asModule=function(a,b){return e.asModule(a,j,b)},b.write(a,i,c,f)},f)}},"node"===o.env||!o.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(c=require.nodeRequire("fs"),b.get=function(a,b,d){try{var e=c.readFileSync(a,"utf8");"\ufeff"===e[0]&&(e=e.substring(1)),b(e)}catch(f){d&&d(f)}}):"xhr"===o.env||!o.env&&b.createXhr()?b.get=function(a,c,d,e){var f,g=b.createXhr();if(g.open("GET",a,!0),e)for(f in e)e.hasOwnProperty(f)&&g.setRequestHeader(f.toLowerCase(),e[f]);o.onXhr&&o.onXhr(g,a),g.onreadystatechange=function(){var b,e;4===g.readyState&&(b=g.status||0,b>399&&600>b?(e=new Error(a+" HTTP status: "+b),e.xhr=g,d&&d(e)):c(g.responseText),o.onXhrComplete&&o.onXhrComplete(g,a))},g.send(null)}:"rhino"===o.env||!o.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?b.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),null!==d&&c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)}:("xpconnect"===o.env||!o.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(d=Components.classes,e=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),f="@mozilla.org/windows-registry-key;1"in d,b.get=function(a,b){var c,g,h,i={};f&&(a=a.replace(/\//g,"\\")),h=new FileUtils.File(a);try{c=d["@mozilla.org/network/file-input-stream;1"].createInstance(e.nsIFileInputStream),c.init(h,1,0,!1),g=d["@mozilla.org/intl/converter-input-stream;1"].createInstance(e.nsIConverterInputStream),g.init(c,"utf-8",c.available(),e.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),g.readString(c.available(),i),g.close(),c.close(),b(i.value)}catch(j){throw new Error((h&&h.path||"")+": "+j)}}),b}),define("requirejs-text/text!deliteful/ProgressIndicator/ProgressIndicator.html",[],function(){return'<!-- Template: deliteful/ProgressIndicator (d-progress-indicator) -->\n<template>\n	<svg xmlns="http://www.w3.org/2000/svg" attach-point="svgNode">\n		<defs>\n			<symbol viewBox="0 0 30 30" preserveAspectRatio="none">\n				<text x="48%" y="67%" attach-point="msgNode"></text>\n			</symbol>\n		</defs>\n		<g class="d-progress-indicator-lines" attach-point="linesNode">\n			<line x1="50.0%" y1="24.0%" x2="50.0%" y2="07.0%"></line>\n			<line x1="63.0%" y1="28.0%" x2="72.0%" y2="13.0%"></line>\n			<line x1="73.0%" y1="37.0%" x2="88.0%" y2="28.0%"></line>\n			<line x1="93.0%" y1="50.0%" x2="76.0%" y2="50.0%"></line>\n			<line x1="73.0%" y1="63.0%" x2="88.0%" y2="71.0%"></line>\n			<line x1="63.0%" y1="72.0%" x2="71.0%" y2="87.0%"></line>\n			<line x1="50.0%" y1="76.0%" x2="50.0%" y2="93.0%"></line>\n			<line x1="37.0%" y1="72.0%" x2="28.0%" y2="87.0%"></line>\n			<line x1="27.0%" y1="63.0%" x2="13.0%" y2="71.0%"></line>\n			<line x1="24.0%" y1="50.0%" x2="07.0%" y2="50.0%"></line>\n			<line x1="27.0%" y1="37.0%" x2="13.0%" y2="29.0%"></line>\n			<line x1="37.0%" y1="27.0%" x2="29.0%" y2="13.0%"></line>\n		</g>\n		<use x="28.5%" y="28.5%" width="43%" height="43%"></use>\n	</svg>\n</template>\n'}),define("deliteful/ProgressIndicator",["dcl/dcl","delite/register","delite/Widget","delite/handlebars!./ProgressIndicator/ProgressIndicator.html","delite/theme!./ProgressIndicator/themes/{{theme}}/ProgressIndicator.css"],function(a,b,c,d){return b("d-progress-indicator",[HTMLElement,c],{active:!1,value:0/0,speed:"normal",baseClass:"d-progress-indicator",_requestId:0,_lapsTime:1e3,_requestAnimationFunction:window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame&&window.webkitRequestAnimationFrame.bind(window)||function(a){return this.defer(a,1e3/60)},_cancelAnimationFunction:(window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||function(a){a.remove()}).bind(window),_requestRendering:function(a){return this._requestAnimationFunction.call(this,a)},_cancelRequestRendering:function(a){return this._cancelAnimationFunction(a)},_reset:function(){this._requestRendering(function(){this.msgNode.textContent="";for(var a=0;12>a;a++)this.lineNodeList[a].style.opacity=(a+1)*(1/12)}.bind(this))},_stopAnimation:function(){this._requestId&&(this._cancelRequestRendering(this._requestId),this._requestId=0)},_startAnimation:function(){if(!this._requestId){this._reset();var a=16.7/this._lapsTime,b=function(){for(var c,d=0;12>d;d++)c=(parseFloat(this.lineNodeList[d].style.opacity)-a)%1,this.lineNodeList[d].style.opacity=0>c?1:c;this._requestId=this._requestRendering(b)}.bind(this);this._requestId=this._requestRendering(b)}},template:d,render:a.after(function(){this.lineNodeList=this.linesNode.querySelectorAll("line")}),attachedCallback:function(){this.deliver();var a=this.baseClass+"-"+this.widgetId+"-symbol";this.querySelector("symbol").id=a,this.querySelector("use").setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+a),this.svgNode.style.width="100%",this.svgNode.style.height="100%",this.svgNode.style.textAnchor="middle",this.style.color=window.getComputedStyle(this.msgNode).getPropertyValue("fill");var b=window.getComputedStyle(this).getPropertyValue("color");this.style.color!==b&&(this.linesNode.style.stroke=b,this.msgNode.style.fill=b,this.msgNode.textContent=this.msgNode.textContent),this._reset()},computeProperties:function(a){var b=null;"speed"in a&&(b="fast"===this.speed?500:"slow"===this.speed?2e3:1e3,this._lapsTime!==b&&(this._lapsTime=b)),"value"in a&&!isNaN(this.value)&&(b=Math.max(Math.min(this.value,100),0),this.value!==b&&(this.value=b))},refreshRendering:function(a){"value"in a&&(isNaN(this.value)?this.active&&this._startAnimation():(this._stopAnimation(),this._requestRendering(function(){this.msgNode.textContent=Math.floor(this.value);for(var a,b=.2,c=0;12>c;c++)a=Math.min(Math.max(.12*this.value-c,0),1)*(1-b),this.lineNodeList[c].style.opacity=b+a}.bind(this)))),"speed"in a&&this._requestId&&(this._stopAnimation(),this._startAnimation()),"active"in a&&(this.active?isNaN(this.value)&&this._startAnimation():this._stopAnimation(),this._requestRendering(function(){this.style.visibility=this.active?"visible":"hidden"}.bind(this)))},destroy:function(){this._stopAnimation()}})}),define("deliteful/Store",["dcl/dcl","delite/register","delite/CustomElement","dstore/Memory","dstore/Trackable"],function(a,b,c,d,e){var f=d.createSubclass([e],{}),g=["add","remove","put","delete","refresh","update"];return b("d-store",[HTMLElement,c],{createdCallback:function(){this.style.display="none"},attachedCallback:function(){for(var b=new f,c=JSON.parse("["+this.textContent+"]"),d=0;d<c.length;d++)c[d][b.idProperty]||(c[d][b.idProperty]=Math.random());b.setData(c),b._emit=b.emit,b._on=b.on;var e=b._includePropertyInSubCollection,g=this.emit,h=this.on;a.mix(this,b),this.constructor._meta||(this.constructor._meta=b.constructor._meta),this.emit=g,this.on=h,this._includePropertyInSubCollection=function(a){return"recordset"!==a&&e.apply(this,arguments)}},on:a.superCall(function(a){return function(b){return-1!==g.indexOf(b)?this._on.apply(this,arguments):a.apply(this,arguments)}}),emit:a.superCall(function(a){return function(b){return-1!==g.indexOf(b)?this._emit.apply(this,arguments):a.apply(this,arguments)}})})}),define("dstore/Trackable",["dojo/_base/lang","dojo/_base/declare","dojo/aspect","dojo/when","dojo/promise/all","dojo/_base/array","dojo/on"],function(a,b,c,d,e,f,g){function h(a,b){return{start:a,count:b-a}}function i(a,b,c){for(var d=a.length-1;d>=0;--d){var e=a[d],f=e.start,g=f+e.count;if(b>g)return void a.splice(d+1,0,h(b,c));c>=f&&(b=Math.min(b,f),c=Math.max(c,g),a.splice(d,1))}a.unshift(h(b,c))}function j(a,b,c){for(var d,e=0;d=a[e];++e){var f=d.start,g=f+d.count;if(f>=b){if(!(c>=g))return d.start=c,void(d.count=g-d.start);a.splice(e,1)}else if(g>b){if(c>f)return void a.splice(e,1,h(f,b),h(c,g));d.count=b-d.start}}}var k=0,l={track:function(){function e(){return function(){var a=this;return d(this.inherited(arguments),function(b){return b=a._results=b.slice(),a._ranges=[],i(a._ranges,0,b.length),b})}}function h(){return function(a){var b=this,c=a.start,e=a.end,f=this.inherited(arguments);return d(f,function(a){return d(a.totalLength,function(d){var f=b._partialResults||(b._partialResults=[]);e=Math.min(e,c+a.length),f.length=d;var g=[c,e-c].concat(a);return f.splice.apply(f,g),i(b._ranges,c,e),a})}),f}}function l(b,c){k++;var e=c.target;c=a.delegate(c,s[b]),d(q._results||q._partialResults,function(a){function d(){var a=q["on_tracked"+b];a&&a.call(q,c)}if(!a)return void d();var g,h,i,j,k=q._ranges,l="id"in c?c.id:m.getIdentity(e),n=-1,o=-1,p=-1,s=-1;if("delete"===b||"update"===b)for(g=0;-1===n&&g<k.length;++g)for(j=k[g],h=j.start,i=h+j.count;i>h;++h){var u=a[h];if(m.getIdentity(u)==l){for(n=c.previousIndex=h,o=g,a.splice(n,1),j.count--,h=g+1;h<k.length;++h)k[h].start--;break}}if("add"===b||"update"===b){if(r){if(r([e]).length)for(var v,w,x,y=0,z=k.length-1,A=-1;z>=y&&-1===p;)g=y+Math.round((z-y)/2),j=k[g],v=a.slice(j.start,j.start+j.count),"beforeId"in c&&(A=null===c.beforeId?v.length:t(v,c.beforeId)),-1===A&&(A=n>=Math.max(0,j.start-1)&&n<=j.start+j.count?n:m.defaultNewToStart?0:v.length),v.splice(A,0,e),w=f.indexOf(r(v),e),x=j.start+w,0===w&&0!==j.start?z=g-1:w>=v.length-1&&x<a.length?y=g+1:(p=x,s=g)}else{var j,B=-1;if("beforeId"in c)if(null===c.beforeId)p=a.length,B=k.length-1;else for(g=0,i=k.length;-1===s&&i>g;++g)j=k[g],p=t(a,c.beforeId,j.start,j.start+j.count),-1!==p&&(s=g);else"update"===b?(p=n,s=o):m.defaultNewToStart?(p=0,B=0):(p=a.length,B=k.length-1);-1!==B&&-1===s&&(j=k[B],j&&j.start<=p&&p<=j.start+j.count&&(s=B))}if(p>-1&&s>-1)for(c.index=p,a.splice(p,0,e),k[s].count++,g=s+1;g<k.length;++g)k[g].start++}c.totalLength=a.length,d()})}var m=this.store||this,n=[],o={add:1,update:1,"delete":1};for(var p in o)n.push(this.on(p,function(a){return function(b){l(a,b)}}(p)));var q=b.safeMixin(a.delegate(this),{_ranges:[],fetch:e(),fetchRange:h(),releaseRange:function(a,b){if(this._partialResults){j(this._ranges,a,b);for(var c=a;b>c;++c)delete this._partialResults[c]}},on:function(a,b){var d=this,e=this.getInherited(arguments);return g.parse(q,a,b,function(a,f){return f in o?c.after(q,"on_tracked"+f,b,!0):e.call(d,f,b)})},tracking:{remove:function(){for(;n.length>0;)n.pop().remove();this.remove=function(){}}},track:null});this.fetchSync&&b.safeMixin(q,{fetchSync:e(),fetchRangeSync:h()});var r;f.forEach(this.queryLog,function(a){var b=r,c=a.querier;c&&(r=b?function(a){return c(b(a))}:c)});var s={add:{index:void 0},update:{previousIndex:void 0,index:void 0},"delete":{previousIndex:void 0}},t=function(a,b,c,d){c=void 0!==c?c:0,d=void 0!==d?d:a.length;for(var e=c;d>e;++e)if(m.getIdentity(a[e])===b)return e;return-1};return q}},m=b(null,l);return m.create=function(c,d){return c=b.safeMixin(a.delegate(c),l),b.safeMixin(c,d),c},m}),define("dojo/on",["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(a,b,c){"use strict";function d(a,b,d,e,f){var g=b.match(/(.*):(.*)/);if(g)return b=g[2],g=g[1],h.selector(g,b).call(f,a,d);if(c("touch")&&(i.test(b)&&(d=x(d)),c("event-orientationchange")||"orientationchange"!=b||(b="resize",a=window,d=x(d))),n&&(d=n(d)),a.addEventListener){var j=b in l,k=j?l[b]:b;return a.addEventListener(k,d,j),{remove:function(){a.removeEventListener(k,d,j)}}}if(b="on"+b,r&&a.attachEvent)return r(a,b,d);throw new Error("Target must be an event emitter")}function e(){this.cancelable=!1,this.defaultPrevented=!0}function f(){this.bubbles=!1}if(c("dom")){var g=window.ScriptEngineMajorVersion;c.add("jscript",g&&g()+ScriptEngineMinorVersion()/10),c.add("event-orientationchange",c("touch")&&!c("android")),c.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),c.add("event-focusin",function(a,b,c){return"onfocusin"in c}),c("touch")&&c.add("touch-can-modify-event-delegate",function(){var a=function(){};a.prototype=document.createEvent("MouseEvents");try{var b=new a;return b.target=null,null===b.target}catch(c){return!1}})}var h=function(a,b,c,e){return"function"!=typeof a.on||"function"==typeof b||a.nodeType?h.parse(a,b,c,d,e,this):a.on(b,c)};h.pausable=function(a,b,c,d){var e,f=h(a,b,function(){return e?void 0:c.apply(this,arguments)},d);return f.pause=function(){e=!0},f.resume=function(){e=!1},f},h.once=function(a,b,c){var d=h(a,b,function(){return d.remove(),c.apply(this,arguments)});return d},h.parse=function(a,b,c,d,e,f){if(b.call)return b.call(f,a,c);if(b instanceof Array)g=b;else if(b.indexOf(",")>-1)var g=b.split(/\s*,\s*/);if(g){for(var i,j=[],k=0;i=g[k++];)j.push(h.parse(a,i,c,d,e,f));return j.remove=function(){for(var a=0;a<j.length;a++)j[a].remove()},j}return d(a,b,c,e,f)};var i=/^touch/;h.matches=function(a,c,d,e,f){for(f=f&&f.matches?f:b.query,e=e!==!1,1!=a.nodeType&&(a=a.parentNode);!f.matches(a,c,d);)if(a==d||e===!1||!(a=a.parentNode)||1!=a.nodeType)return!1;return a},h.selector=function(a,b,c){return function(d,e){function f(b){return h.matches(b,a,d,c,g)}var g="function"==typeof a?{matches:a}:this,i=b.bubble;return i?h(d,i(f),e):h(d,b,function(a){var b=f(a.target);return b?e.call(b,a):void 0})}};var j=[].slice,k=h.emit=function(a,b,c){var d=j.call(arguments,2),g="on"+b;if("parentNode"in a){var h=d[0]={};for(var i in c)h[i]=c[i];h.preventDefault=e,h.stopPropagation=f,h.target=a,h.type=b,c=h}do a[g]&&a[g].apply(a,d);while(c&&c.bubbles&&(a=a.parentNode));return c&&c.cancelable&&c},l=c("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!c("event-stopimmediatepropagation"))var m=function(){this.immediatelyStopped=!0,this.modified=!0},n=function(a){return function(b){return b.immediatelyStopped?void 0:(b.stopImmediatePropagation=m,a.apply(this,arguments))}};if(c("dom-addeventlistener"))h.emit=function(a,b,c){if(a.dispatchEvent&&document.createEvent){var d=a.ownerDocument||document,e=d.createEvent("HTMLEvents");e.initEvent(b,!!c.bubbles,!!c.cancelable);for(var f in c)f in e||(e[f]=c[f]);return a.dispatchEvent(e)&&e}return k.apply(h,arguments)};else{h._fixEvent=function(a,b){if(!a){var c=b&&(b.ownerDocument||b.document||b).parentWindow||window;a=c.event}if(!a)return a;try{o&&a.type==o.type&&a.srcElement==o.target&&(a=o)}catch(d){}if(!a.target)switch(a.target=a.srcElement,a.currentTarget=b||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||(a.stopPropagation=t,a.preventDefault=u),a.type){case"keypress":var e="charCode"in a?a.charCode:a.keyCode;10==e?(e=0,a.keyCode=13):13==e||27==e?e=0:3==e&&(e=99),a.charCode=e,s(a)}return a};var o,p=function(a){this.handle=a};p.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var q=function(a){return function(b){b=h._fixEvent(b,this);var c=a.call(this,b);return b.modified&&(o||setTimeout(function(){o=null}),o=b),c}},r=function(b,d,e){if(e=q(e),((b.ownerDocument?b.ownerDocument.parentWindow:b.parentWindow||b.window||window)!=top||c("jscript")<5.8)&&!c("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var f=b[d];if(!f||!f.listeners){var g=f;f=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}"),f.listeners=[],b[d]=f,f.global=this,g&&f.listeners.push(_dojoIEListeners_.push(g)-1)}var h;return f.listeners.push(h=f.global._dojoIEListeners_.push(e)-1),new p(h)}return a.after(b,d,e,!0)},s=function(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"",a.charOrCode=a.keyChar||a.keyCode},t=function(){this.cancelBubble=!0},u=h._preventDefault=function(){if(this.bubbledKeyCode=this.keyCode,this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0,this.returnValue=!1,this.modified=!0}}if(c("touch"))var v=function(){},w=window.orientation,x=function(a){return function(b){var d=b.corrected;if(!d){var e=b.type;try{delete b.type}catch(f){}if(b.type){if(c("touch-can-modify-event-delegate"))v.prototype=b,d=new v;else{d={};for(var g in b)d[g]=b[g]}d.preventDefault=function(){b.preventDefault()},d.stopPropagation=function(){b.stopPropagation()}}else d=b,d.type=e;if(b.corrected=d,"resize"==e)return w==window.orientation?null:(w=window.orientation,d.type="orientationchange",a.call(this,d));"rotation"in d||(d.rotation=0,d.scale=1);var h=d.changedTouches[0];for(var i in h)delete d[i],d[i]=h[i]}return a.call(this,d)}};return h}),define("dojo/_base/array",["./kernel","../has","./lang"],function(a,b,c){function d(a){return h[a]=new Function("item","index","array",a)}function e(a){var b=!a;return function(c,e,f){var g,i=0,j=c&&c.length||0;if(j&&"string"==typeof c&&(c=c.split("")),"string"==typeof e&&(e=h[e]||d(e)),f){for(;j>i;++i)if(g=!e.call(f,c[i],i,c),a^g)return!g}else for(;j>i;++i)if(g=!e(c[i],i,c),a^g)return!g;return b}}function f(a){var b=1,c=0,d=0;return a||(b=c=d=-1),function(e,f,h,j){if(j&&b>0)return i.lastIndexOf(e,f,h);var k,l=e&&e.length||0,m=a?l+d:c;for(h===g?k=a?c:l+d:0>h?(k=l+h,0>k&&(k=c)):k=h>=l?l+d:h,l&&"string"==typeof e&&(e=e.split(""));k!=m;k+=b)if(e[k]==f)return k;return-1}}var g,h={},i={every:e(!1),some:e(!0),indexOf:f(!0),lastIndexOf:f(!1),forEach:function(a,b,c){var e=0,f=a&&a.length||0;if(f&&"string"==typeof a&&(a=a.split("")),"string"==typeof b&&(b=h[b]||d(b)),c)for(;f>e;++e)b.call(c,a[e],e,a);else for(;f>e;++e)b(a[e],e,a)},map:function(a,b,c,e){var f=0,g=a&&a.length||0,i=new(e||Array)(g);if(g&&"string"==typeof a&&(a=a.split("")),"string"==typeof b&&(b=h[b]||d(b)),c)for(;g>f;++f)i[f]=b.call(c,a[f],f,a);else for(;g>f;++f)i[f]=b(a[f],f,a);return i},filter:function(a,b,c){var e,f=0,g=a&&a.length||0,i=[];if(g&&"string"==typeof a&&(a=a.split("")),"string"==typeof b&&(b=h[b]||d(b)),c)for(;g>f;++f)e=a[f],b.call(c,e,f,a)&&i.push(e);else for(;g>f;++f)e=a[f],b(e,f,a)&&i.push(e);return i},clearCache:function(){h={}}};return b("extend-dojo")&&c.mixin(a,i),i}),define("dojo/promise/all",["../_base/array","../Deferred","../when"],function(a,b,c){"use strict";var d=a.some;return function(a){var e,f;a instanceof Array?f=a:a&&"object"==typeof a&&(e=a);var g,h=[];if(e){f=[];for(var i in e)Object.hasOwnProperty.call(e,i)&&(h.push(i),f.push(e[i]));g={}}else f&&(g=[]);if(!f||!f.length)return(new b).resolve(g);var j=new b;j.promise.always(function(){g=h=null});var k=f.length;return d(f,function(a,b){return e||h.push(b),c(a,function(a){j.isFulfilled()||(g[h[b]]=a,0===--k&&j.resolve(g))},j.reject),j.isFulfilled()}),j.promise}}),define("dojo/aspect",[],function(){"use strict";function a(a,b,c,e){var f,g=a[b],h="around"==b;if(h){var i=c(function(){return g.advice(this,arguments)});f={remove:function(){i&&(i=a=c=null)},advice:function(a,b){return i?i.apply(a,b):g.advice(a,b)}}}else f={remove:function(){if(f.advice){var d=f.previous,e=f.next;e||d?(d?d.next=e:a[b]=e,e&&(e.previous=d)):delete a[b],a=c=f.advice=null}},id:d++,advice:c,receiveArguments:e};if(g&&!h)if("after"==b){for(;g.next&&(g=g.next););g.next=f,f.previous=g}else"before"==b&&(a[b]=f,f.next=g,g.previous=f);else a[b]=f;return f}function b(b){return function(e,f,g,h){var i,j=e[f];j&&j.target==e||(e[f]=i=function(){for(var a=d,b=arguments,e=i.before;e;)b=e.advice.apply(this,b)||b,e=e.next;if(i.around)var f=i.around.advice(this,b);for(var g=i.after;g&&g.id<a;){if(g.receiveArguments){var h=g.advice.apply(this,b);f=h===c?f:h}else f=g.advice.call(this,f,b);g=g.next}return f},j&&(i.around={advice:function(a,b){return j.apply(a,b)}}),i.target=e);var k=a(i||j,b,g,h);return g=null,k}}var c,d=0,e=b("after"),f=b("before"),g=b("around");return{before:f,around:g,after:e}}),define("dojo/_base/declare",["./kernel","../has","./lang"],function(a,b,c){function d(a,b){throw new Error("declare"+(b?" "+b:"")+": "+a)}function e(a,b){for(var c,e,f,g,h,i,j,k,l=[],m=[{cls:0,refs:[]}],n={},o=1,p=a.length,q=0;p>q;++q){for(f=a[q],f?"[object Function]"!=w.call(f)&&d("mixin #"+q+" is not a callable constructor.",b):d("mixin #"+q+" is unknown. Did you use dojo.require to pull it in?",b),e=f._meta?f._meta.bases:[f],g=0,c=e.length-1;c>=0;--c)h=e[c].prototype,h.hasOwnProperty("declaredClass")||(h.declaredClass="uniqName_"+y++),j=h.declaredClass,n.hasOwnProperty(j)||(n[j]={count:0,refs:[],cls:e[c]},++o),i=n[j],g&&g!==i&&(i.refs.push(g),++g.count),g=i;++g.count,m[0].refs.push(g)}for(;m.length;){for(g=m.pop(),l.push(g.cls),--o;k=g.refs,1==k.length;){if(g=k[0],!g||--g.count){g=0;break}l.push(g.cls),--o}if(g)for(q=0,p=k.length;p>q;++q)g=k[q],--g.count||m.push(g)}return o&&d("can't build consistent linearization",b),f=a[0],l[0]=f?f._meta&&f===l[l.length-f._meta.bases.length]?f._meta.bases.length:1:0,l}function f(a,b,c){var e,f,g,h,i,j,k,l,m,n=this._inherited=this._inherited||{};if("string"==typeof a&&(e=a,a=b,b=c),c=0,h=a.callee,e=e||h.nom,e||d("can't deduce a name to call inherited()",this.declaredClass),i=this.constructor._meta,g=i.bases,m=n.p,e!=z){if(n.c!==h&&(m=0,j=g[0],i=j._meta,i.hidden[e]!==h)){f=i.chains,f&&"string"==typeof f[e]&&d("calling chained method with inherited: "+e,this.declaredClass);do if(i=j._meta,k=j.prototype,i&&(k[e]===h&&k.hasOwnProperty(e)||i.hidden[e]===h))break;while(j=g[++m]);m=j?m:-1}if(j=g[++m])if(k=j.prototype,j._meta&&k.hasOwnProperty(e))c=k[e];else{l=v[e];do if(k=j.prototype,c=k[e],c&&(j._meta?k.hasOwnProperty(e):c!==l))break;while(j=g[++m])}c=j&&c||v[e]}else{if(n.c!==h&&(m=0,i=g[0]._meta,i&&i.ctor!==h)){for(f=i.chains,f&&"manual"===f.constructor||d("calling chained constructor with inherited",this.declaredClass);(j=g[++m])&&(i=j._meta,!i||i.ctor!==h););m=j?m:-1}for(;(j=g[++m])&&(i=j._meta,!(c=i?i.ctor:j)););c=j&&c}return n.c=c,n.p=m,c?b===!0?c:c.apply(this,b||a):void 0}function g(a,b){return"string"==typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function h(a,b,c){var d=this.getInherited(a,b);return d?d.apply(this,c||b||a):void 0}function i(a){for(var b=this.constructor._meta.bases,c=0,d=b.length;d>c;++c)if(b[c]===a)return!0;return this instanceof a}function j(a,d){for(var e in d)e!=z&&d.hasOwnProperty(e)&&(a[e]=d[e]);if(b("bug-for-in-skips-shadowed"))for(var f=c._extraNames,g=f.length;g;)e=f[--g],e!=z&&d.hasOwnProperty(e)&&(a[e]=d[e])}function k(a,d){var e,f;for(e in d)f=d[e],f===v[e]&&e in v||e==z||("[object Function]"==w.call(f)&&(f.nom=e),a[e]=f);if(b("bug-for-in-skips-shadowed"))for(var g=c._extraNames,h=g.length;h;)e=g[--h],f=d[e],f===v[e]&&e in v||e==z||("[object Function]"==w.call(f)&&(f.nom=e),a[e]=f);return a}function l(a){return t.safeMixin(this.prototype,a),this}function m(a,b){return a instanceof Array||"function"==typeof a||(b=a,a=void 0),b=b||{},a=a||[],t([this].concat(a),b)}function n(a,b){return function(){var c,d,e,f,g=arguments,h=g,i=g[0],j=a.length;if(!(this instanceof g.callee))return s(g);if(b&&(i&&i.preamble||this.preamble))for(f=new Array(a.length),f[0]=g,d=0;i=g[0],i&&(c=i.preamble,c&&(g=c.apply(this,g)||g)),c=a[d].prototype,c=c.hasOwnProperty("preamble")&&c.preamble,c&&(g=c.apply(this,g)||g),++d!=j;)f[d]=g;for(d=j-1;d>=0;--d)c=a[d],e=c._meta,c=e?e.ctor:c,c&&c.apply(this,f?f[d]:g);c=this.postscript,c&&c.apply(this,h)}}function o(a,b){return function(){var c,d=arguments,e=d,f=d[0];return this instanceof d.callee?(b&&(f&&(c=f.preamble,c&&(e=c.apply(this,e)||e)),c=this.preamble,c&&c.apply(this,e)),a&&a.apply(this,d),c=this.postscript,void(c&&c.apply(this,d))):s(d)}}function p(a){return function(){var b,c,d=arguments,e=0;if(!(this instanceof d.callee))return s(d);for(;b=a[e];++e)if(c=b._meta,b=c?c.ctor:b){b.apply(this,d);break}b=this.postscript,b&&b.apply(this,d)}}function q(a,b,c){return function(){var d,e,f,g=0,h=1;for(c&&(g=b.length-1,h=-1);d=b[g];g+=h)e=d._meta,f=(e?e.hidden:d.prototype)[a],f&&f.apply(this,arguments)}}function r(a){x.prototype=a.prototype;var b=new x;return x.prototype=null,b}function s(a){var b=a.callee,c=r(b);return b.apply(c,a),c}function t(a,b,h){"string"!=typeof a&&(h=b,b=a,a=""),h=h||{};var k,s,x,y,B,C,D,E=1,F=b;if("[object Array]"==w.call(b)?(C=e(b,a),x=C[0],E=C.length-x,b=C[E]):(C=[0],b?"[object Function]"==w.call(b)?(x=b._meta,C=C.concat(x?x.bases:b)):d("base class is not a callable constructor.",a):null!==b&&d("unknown base class. Did you use dojo.require to pull it in?",a)),b)for(s=E-1;k=r(b),s;--s)x=C[s],(x._meta?j:u)(k,x.prototype),y=new Function,y.superclass=b,y.prototype=k,b=k.constructor=y;else k={};for(t.safeMixin(k,h),x=h.constructor,x!==v.constructor&&(x.nom=z,k.constructor=x),s=E-1;s;--s)x=C[s]._meta,x&&x.chains&&(D=u(D||{},x.chains));if(k["-chains-"]&&(D=u(D||{},k["-chains-"])),x=!D||!D.hasOwnProperty(z),C[0]=y=D&&"manual"===D.constructor?p(C):1==C.length?o(h.constructor,x):n(C,x),y._meta={bases:C,hidden:h,chains:D,parents:F,ctor:h.constructor},y.superclass=b&&b.prototype,y.extend=l,y.createSubclass=m,y.prototype=k,k.constructor=y,k.getInherited=g,k.isInstanceOf=i,k.inherited=A,k.__inherited=f,a&&(k.declaredClass=a,c.setObject(a,y)),D)for(B in D)k[B]&&"string"==typeof D[B]&&B!=z&&(x=k[B]=q(B,C,"after"===D[B]),x.nom=B);return y}var u=c.mixin,v=Object.prototype,w=v.toString,x=new Function,y=0,z="constructor",A=a.config.isDebug?h:f;return a.safeMixin=t.safeMixin=k,a.declare=t,t}),define("dstore/Memory",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","./Store","./Promised","./SimpleQuery","./QueryResults"],function(a,b,c,d,e,f,g){return a([d,e,f],{constructor:function(){this.storage.version=0},postscript:function(){this.inherited(arguments),this.setData(this.data||[])},data:null,autoEmitEvents:!1,getSync:function(a){return this.storage.fullData[this.storage.index[a]]},putSync:function(a,b){b=b||{};var c=this.storage,d=c.index,e=c.fullData,f=this.Model;!f||a instanceof f||(a=this._restore(a));var g=this.getIdentity(a);null==g&&(this._setIdentity(a,"id"in b?b.id:Math.random()),g=this.getIdentity(a)),c.version++;var h,i,j=g in d?"update":"add",k={target:a};if("update"===j){if(b.overwrite===!1)throw new Error("Object already exists");e.splice(h=d[g],1),i=h}else i=this.defaultNewToStart?0:e.length;var l;if("beforeId"in b){var m=b.beforeId;null===m?l=e.length:(l=d[m],l>h&&--l),void 0!==l?k.beforeId=m:(console.error("options.beforeId was specified but no corresponding index was found"),l=i)}else l=i;e.splice(l,0,a);for(var n=isFinite(h)?Math.min(h,l):l,o=e.length;o>n;++n)d[this.getIdentity(e[n])]=n;return this.emit(j,k),a},addSync:function(a,b){return(b=b||{}).overwrite=!1,this.putSync(a,b)},removeSync:function(a){var b=this.storage,c=b.index,d=b.fullData;if(a in c){var e=d.splice(c[a],1)[0];return this._reindex(),this.emit("delete",{id:a,target:e}),!0}},setData:function(a){this.parse&&(a=this.parse(a)),a.items&&(this.idProperty=a.identifier||this.idProperty,a=a.items);var b=this.storage;b.fullData=this.data=a,this._reindex()},_reindex:function(){for(var a=this.storage,b=a.index={},c=a.fullData,d=this.Model,e=Object.prototype,f=0,g=c.length;g>f;f++){var h=c[f];if(d&&!(h instanceof d)){var i=this._restore(h,h.__proto__===e);h!==i&&(c[f]=h=i)}b[this.getIdentity(h)]=f}a.version++},fetchSync:function(){var a=this.data;if(!a||a._version!==this.storage.version){a=this.storage.fullData;for(var b=this.queryLog,c=0,d=b.length;d>c;c++)a=b[c].querier(a);a._version=this.storage.version,this.data=a}return new g(a)},fetchRangeSync:function(a){var b=this.fetchSync(),c=a.start,d=a.end;return new g(b.slice(c,d),{totalLength:b.length})},_includePropertyInSubCollection:function(a){return"data"!==a&&this.inherited(arguments)}})}),define("dstore/QueryResults",["dojo/_base/lang","dojo/when"],function(a,b){function c(a,c){return b(this,function(b){for(var d=0,e=b.length;e>d;d++)a.call(c,b[d],d,b)})}return function(b,d){var e=d&&"totalLength"in d;if(b.then){b=a.delegate(b);var f=b.then(function(a){var b=e?d.totalLength:a.totalLength||a.length;return a.totalLength=b,b});b.totalLength=e?d.totalLength:f,b.response=d&&d.response}else b.totalLength=e?d.totalLength:b.length;return b.forEach=c,b}}),define("dstore/SimpleQuery",["dojo/_base/declare","dojo/_base/array"],function(a,b){var c={eq:function(a,b){return a===b},"in":function(a,c){return b.indexOf(c,a)>-1},ne:function(a,b){
return a!==b},lt:function(a,b){return b>a},lte:function(a,b){return b>=a},gt:function(a,b){return a>b},gte:function(a,b){return a>=b},match:function(a,b,c){return b.test(a,c)}};return a(null,{_createFilterQuerier:function(a){function c(a){var b=a.type,g=a.args,h=e._getFilterComparator(b);if(h){var i=g[0],j=g[1];return function(a){return h(d&&a.get?a.get(i):a[i],j,a)}}switch(b){case"and":case"or":for(var k=0,l=g.length;l>k;k++){var m=c(g[k]);f=f?function(a,c){return"and"===b?function(b){return a(b)&&c(b)}:function(b){return a(b)||c(b)}}(f,m):m}return f;case"function":return g[0];case"string":var n=e[g[0]];if(!n)throw new Error("No filter function "+g[0]+" was found in the collection");return n;case void 0:return function(){return!0};default:throw new Error('Unknown filter operation "'+b+'"')}}var d=this.queryAccessors,e=this,f=c(a);return function(a){return b.filter(a,f)}},_getFilterComparator:function(a){return c[a]||this.inherited(arguments)},_createSortQuerier:function(a){return function(b){return b=b.slice(),b.sort("function"==typeof a?a:function(b,c){for(var d=0;d<a.length;d++){var e;if("function"==typeof a[d])e=a[d](b,c);else{var f=a[d].property,g=a[d].descending,h=b.get?b.get(f):b[f],i=c.get?c.get(f):c[f];null!=h&&(h=h.valueOf()),null!=i&&(i=i.valueOf()),e=h===i?0:!!g==(null===h||h>i&&null!==i)?-1:1}if(0!==e)return e}return 0}),b}}})}),define("dstore/Promised",["dojo/_base/declare","dojo/Deferred","./QueryResults","dojo/when"],function(a,b,c,d){function e(a,e){return function(){var f=new b;try{f.resolve(this[a].apply(this,arguments))}catch(g){f.reject(g)}if(e){var h=new c(f.promise);return h.totalLength=d(h.totalLength),h}return f.promise}}return a(null,{get:e("getSync"),put:e("putSync"),add:e("addSync"),remove:e("removeSync"),fetch:e("fetchSync",!0),fetchRange:e("fetchRangeSync",!0)})}),define("dstore/Store",["dojo/_base/lang","dojo/_base/array","dojo/aspect","dojo/has","dojo/when","dojo/Deferred","dojo/_base/declare","./QueryMethod","./Filter","dojo/Evented"],function(a,b,c,d,e,f,g,h,i,j){function k(a){return function(b,c){var d=this;return e(b,function(b){var e={target:b},f=c[1]||{};"beforeId"in f&&(e.beforeId=f.beforeId),d.emit(a,e)}),b}}d.add("object-proto",!!{}.__proto__&&!{}.watch);var l=d("object-proto"),m=j;return g(m,{constructor:function(a){a&&g.safeMixin(this,a),this.Model&&this.Model.createSubclass&&(this.Model=this.Model.createSubclass([]).extend({_store:this})),this.storage=new j;var b=this;this.autoEmitEvents&&(c.after(this,"add",k("add")),c.after(this,"put",k("update")),c.after(this,"remove",function(a,c){return e(a,function(){b.emit("delete",{id:c[0]})}),a}))},autoEmitEvents:!0,idProperty:"id",queryAccessors:!0,getIdentity:function(a){return a.get?a.get(this.idProperty):a[this.idProperty]},_setIdentity:function(a,b){a.set?a.set(this.idProperty,b):a[this.idProperty]=b},forEach:function(a,b){var c=this;return e(this.fetch(),function(d){for(var e=0,f=d.length;f>e;e++)a.call(b,d[e],e,c);return d})},on:function(a,b){return this.storage.on(a,b)},emit:function(a,b){b=b||{},b.type=a;try{return this.storage.emit(a,b)}finally{return b.cancelable}},parse:null,stringify:null,Model:null,_restore:function(b,c){var d=this.Model;if(d&&b){var e=d.prototype,f=e._restore;f?b=f.call(b,d,c):l&&c?b.__proto__=e:b=a.delegate(e,b)}return b},create:function(a){return new this.Model(a)},_createSubCollection:function(b){var c=a.delegate(this.constructor.prototype);for(var d in this)this._includePropertyInSubCollection(d,c)&&(c[d]=this[d]);return g.safeMixin(c,b)},_includePropertyInSubCollection:function(a,b){return!(a in b)||b[a]!==this[a]},queryLog:[],filter:new h({type:"filter",normalizeArguments:function(a){var b=this.Filter;return a instanceof b?[a]:[new b(a)]}}),Filter:i,sort:new h({type:"sort",normalizeArguments:function(c,d){var e;return"function"==typeof c?e=[c]:(e=c instanceof Array?c.slice():"object"==typeof c?[].slice.call(arguments):[{property:c,descending:d}],e=b.map(e,function(b){return b=a.mixin({},b),b.descending=!!b.descending,b}),e=[e]),e}}),_getQuerierFactory:function(a){var b=a[0].toUpperCase()+a.substr(1);return this["_create"+b+"Querier"]}})}),define("dojo/Evented",["./aspect","./on"],function(a,b){"use strict";function c(){}var d=a.after;return c.prototype={on:function(a,c){return b.parse(this,a,c,function(a,b){return d(a,"on"+b,c,!0)})},emit:function(){var a=[this];return a.push.apply(a,arguments),b.emit.apply(b,a)}},c}),define("dstore/Filter",["dojo/_base/declare"],function(a){function b(a){return function(){var c=this.constructor,d=new c;return d.type=a,d.args=arguments,this.type?b("and").call(c.prototype,this,d):d}}var c=a(null,{constructor:function(a){var b=typeof a;switch(b){case"object":var c=this;for(var d in a){var e=a[d];c=e instanceof this.constructor?c[e.type](d,e.args[0]):e&&e.test?c.match(d,e):c.eq(d,e)}this.type=c.type,this.args=c.args;break;case"function":case"string":this.type=b,this.args=[a]}},and:b("and"),or:b("or"),eq:b("eq"),ne:b("ne"),lt:b("lt"),lte:b("lte"),gt:b("gt"),gte:b("gte"),"in":b("in"),match:b("match")});return c.filterCreator=b,c}),define("dstore/QueryMethod",[],function(){return function(a){var b=a.type,c=a.normalizeArguments,d=a.applyQuery,e=a.querierFactory;return function(){var a=Array.prototype.slice.call(arguments),f=c?c.apply(this,a):a,g={type:b,arguments:a,normalizedArguments:f},h=this._getQuerierFactory(b)||e;h&&(g.querier=h.apply(this,f));var i=this._createSubCollection({queryLog:this.queryLog.concat(g)});return d?d.call(this,i,g):i}}}),define("requirejs-text/text!deliteful/Combobox/Combobox.html",[],function(){return'<template class="d-combobox" role="presentation">\n	<input class="d-combobox-input"\n		role="combobox"\n		attach-point="inputNode,buttonNode,focusNode"\n		autocomplete="off" autocorrect="off" autocapitalize="none"\n		aria-autocomplete="list"\n		type="{{this.autoFilter ? \'search\' : \'text\'}}"\n		readonly="{{this._inputReadOnly ? \'readonly\' : \'\'}}">\n	<input class="d-hidden"\n		attach-point="valueNode"\n		readonly name="{{name}}" value="{{value}}">\n</template>\n'}),define("deliteful/Combobox",["dcl/dcl","dojo/dom-class","dstore/Filter","decor/sniff","delite/register","delite/FormValueWidget","delite/HasDropDown","delite/keys","./list/List","./LinearLayout","./Button","delite/handlebars!./Combobox/Combobox.html","requirejs-dplugins/i18n!./Combobox/nls/Combobox","delite/theme!./Combobox/themes/{{theme}}/Combobox.css"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){return e("d-combobox",[HTMLElement,g,f],{baseClass:"d-combobox",template:l,autoFilter:!1,filterMode:"startsWith",ignoreCase:!0,selectionMode:"single",list:null,_inputReadOnly:!0,searchPlaceHolder:m["search-placeholder"],multipleChoiceMsg:m["multiple-choice"],multipleChoiceNoSelectionMsg:m["multiple-choice-no-selection"],_okButtonLabel:m["ok-button-label"],_cancelButtonLabel:m["cancel-button-label"],preRender:function(){this.list=new i,this._defaultList=this.list},refreshRendering:function(a){"list"in a?this._initList():"selectionMode"in a&&this.list&&(this.list.selectionMode="single"===this.selectionMode?"radio":"multiple")},attachedCallback:function(){if(this.valueNode.form&&this.on("reset",function(){this.defer(function(){(this.value!==this.valueNode.value||"multiple"===this.selectionMode)&&this._initValue()})}.bind(this),this.valueNode.form),!this.list||this.list===this._defaultList){var a=this.querySelector("d-list");a?(this.list=a,delete this._defaultList,this.list.attached?this._initList():this.list.addEventListener("customelement-attached",this._attachedlistener=function(){this._initList(),this.list.removeEventListener("customelement-attached",this._attachedlistener)}.bind(this))):this.list&&this.list===this._defaultList&&(delete this._defaultList,this._initList())}},_initList:function(){this.list.attached||this.list.attachedCallback(),b.add(this.list,"d-combobox-list"),b.add(this.list,"d-combobox-list-hidden"),this.list.isAriaListbox=!0,this.list.focusDescendants=!1,this.list.selectionMode="single"===this.selectionMode?"radio":"multiple";var a=this._createDropDown(this.list),c=this.getAttribute("dir");c&&a.setAttribute("dir",c),this.dropDown=a,this._initValue();var d=function(a,b){var c=b.getEnclosingRenderer(a.target);c&&!b.isCategoryRenderer(c)&&(this.inputNode.value=this._getItemRendererLabel(c),this.list.selectedItem=c.item,this.value=this._getItemRendererValue(c),this.handleOnInput(this.value),this.defer(function(){this.closeDropDown(!0)}.bind(this),100))}.bind(this);"single"===this.selectionMode?(this.list.on("click",function(a){d(a,this.list)}.bind(this)),this.list.on("keydown",function(a){a.keyCode===h.ENTER&&d(a,this.list)}.bind(this))):this.useCenteredDropDown()||this.list.on("selection-change",function(){this._validateMultiple(this._popupInput||this.inputNode)}.bind(this)),this._prepareInput(this.inputNode)},_initValue:function(){if("single"===this.selectionMode){var a=function(){this.inputNode.value=this._getItemRendererLabel(b);var a=this._getItemRendererValue(b);this._set("value",a),this.valueNode.value=a,this.list.selectedItem=b.item}.bind(this),b=this.list.getItemRendererByIndex(0);b&&a()}else this.inputNode.value=this.multipleChoiceNoSelectionMsg,this.value="",this.valueNode.value=""},_getItemRendererLabel:function(a){return this._getItemLabel(a.item)},_getItemRendererValue:function(a){return this._getItemValue(a.item)},_getItemLabel:function(a){return a.label},_getItemValue:function(a){return"value"in a?a.value:a.label},useCenteredDropDown:function(){return d("ios")||d("android")},_createDropDown:function(a){var b=this.useCenteredDropDown();this._inputReadOnly=!this.autoFilter||b||"multiple"===this.selectionMode;var c=b?this._createCenteredDropDown(a):this._createNormalDropDown(a);return this.dropDownPosition=b?["center"]:["below","above"],c},_createNormalDropDown:function(a){return a},_createCenteredDropDown:function(a){var c=new j;if(this.autoFilter&&"multiple"!==this.selectionMode&&(this._popupInput=this._createPopupInput(),c.addChild(this._popupInput)),b.add(a,"fill"),c.addChild(a),"multiple"===this.selectionMode){var d=new j({vertical:!1,width:"100%"}),e=new k({label:this._cancelButtonLabel}),f=new k({label:this._okButtonLabel});f.onclick=function(){this._validateMultiple(this.inputNode),this.closeDropDown()}.bind(this),e.onclick=function(){this.list.selectedItems=this._selectedItems,this.closeDropDown()}.bind(this),b.add(e,"fill"),b.add(f,"fill"),d.addChild(e),d.addChild(f),c.addChild(d)}return c},_createPopupInput:function(){var a=document.createElement("input");return b.add(a,"d-combobox-popup-input"),a.setAttribute("role","combobox"),a.setAttribute("autocomplete","off"),a.setAttribute("autocapitalize","none"),a.setAttribute("autocorrect","off"),a.setAttribute("aria-autocomplete","list"),a.setAttribute("type","search"),a.setAttribute("placeholder",this.searchPlaceHolder),this._prepareInput(a),a},_prepareInput:function(a){this.on("input",function(b){this.filter(a.value),this.openDropDown(),b.stopPropagation(),b.preventDefault()}.bind(this),a),this.on("change",function(a){a.stopPropagation(),a.preventDefault()}.bind(this),a),this.on("keydown",function(b){a.readOnly&&b.keyCode===h.BACKSPACE&&(b.stopPropagation(),b.preventDefault())}.bind(this),a)},_validateMultiple:function(a){var b=this.list.selectedItems,c=b?b.length:0,d=[];if(c>1){a.value=this.multipleChoiceMsg;for(var e=0;c>e;e++)d.push(b[e]?this._getItemValue(b[e]):"")}else if(1===c){var f=this.list.selectedItem;a.value=this._getItemLabel(f),d.push(this._getItemValue(f))}else a.value=this.multipleChoiceNoSelectionMsg;this._set("value",d),this.handleOnInput(this.value)},filter:function(a){"startsWith"===this.filterMode?a="^"+a:"is"===this.filterMode&&(a="^"+a+"$");var b=new RegExp(a,this.ignoreCase?"i":"");this.list.query=(new c).match(this.list.labelAttr,b)},openDropDown:a.superCall(function(a){return function(){var b=this.list.selectedItems;this._selectedItems=b,this.defer(function(){this.list._hideLoadingPanel()}.bind(this),300),a.apply(this,arguments);var c=b&&b.length>0?b[0]:null;if(c){var d=this.list.getIdentity(c),e=this.list.getRendererByItemId(d);this.list.scrollBy({y:this.list.getBottomDistance(e)})}}}),closeDropDown:a.superCall(function(a){return function(){this.handleOnChange(this.value),this.list.query={},"single"===this.selectionMode&&this.autoFilter&&(this.inputNode.value=this._getItemLabel(this.list.selectedItem)),a.apply(this,arguments)}})})}),define("requirejs-dplugins/i18n",["./i18n/common","./i18n/build","module"],function(a,b,c){var d,e,f=a.mixin,g=a.eachProp,h=a.parseName,i=a.getMasterMid,j=function(a){var b={};return g(a,function(a,c){c.forEach(function(c){b[c]=a})}),b},k=function(a,b){var c={};return a._pseudoRoot&&(c[b]={},f(c,a._pseudoRoot),delete a._pseudoRoot,f(c[b],a),a=c),a},l=function(b,c,d){var e=i(b);c([e],function(e){var g=function(b,h,i,j){var k=function(c){f(j,c),i=a.getParentLocale(i),!c._flattened&&i?g(b,h,i,j):(j._flattened=!0,d(j))};e[i]===!0||1===e[i]?c([b+i+"/"+h],k):k(e[i]||{})};e=k(e,b.masterLocale),g(b.prefix,b.suffix,b.requestedLocale,{})})},m=function(a,b,c,d,e,f){for(var g=a.requestedLocale,h=c.localesMap[b];g&&h.indexOf(g)<0;)g=d(g);g?(a.masterLocale=g,e([b+"_"+g],function(){o(a,c,e,f)})):(console.log("i18n: no relevant layer "+b+" found for locale "+a.requestedLocale+"."),f())},n=function(a,b,c,d,e,f){var g=function(h){h?e(["maybe!"+b+"_"+h],function(b){b?(a.masterLocale=h,o(a,c,e,f)):g(d(h))}):(console.log("i18n: no relevant layer "+b+" found for locale "+a.requestedLocale+"."),f())};g(a.requestedLocale)},o=function(a,b,c,d){var e=i(a);a.requestedLocale===a.masterLocale||b.layerOnly||!b.enhanceLayer?c([e],function(a){a.root&&(a=a.root),d(a)}):l(a,c,d)};return{load:function(b,e,g,k){if(!b)return void g();k=k||{};var o,p,q={};return f(q,"function"==typeof c.config?c.config()||{}:{}),k.isBuild?(d=q.localesList,void g()):(q.enhanceLayer=void 0===q.enhanceLayer?!0:q.enhanceLayer,b=h(b),b.requestedLocale=b.requestedLocale||a.getLocale(q.locale||k.locale),o=i(b),q.bundlesMap?(q.bundlesMap=j(q.bundlesMap),p=q.bundlesMap[o],!p&&q.layerOnly?(console.log("i18n: module "+o+" not found in layer."),void g()):p?q.languagePack?void n(b,p,q,a.getParentLocale,e,g):void m(b,p,q,a.getParentLocale,e,g):void l(b,e,g)):void l(b,e,g))},write:function(a,c,d){var e,f=h(c);f.requestedLocale?(e=b.resolveSync(f.requestedLocale,f),"root"!==f.requestedLocale&&(e._pseudoRoot={},e._flattened=!0),d.asModule(a+"!"+c,"define("+JSON.stringify(e)+")")):b.addBundleToNlsLayer(f)},writeFile:function(a,b,c,d){e=d},onLayerEnd:function(a,f){if(f.name&&f.path){var g;b.setLocalesList(d),g=b.getLayersContent(),b.writeLayers(g,f,e),b.writeConfig(c.id,f,a)}b.reset()}}}),define("requirejs-dplugins/i18n/build",["./common"],function(a){var b,c,d=[],e=a.mixin,f=a.eachProp,g=a.getMasterMid,h=function(a){var b;return c||(b=a.name.match(/^(.*\/)?(.*)$/),c=(b[1]||"")+"nls/"+b[2]),c},i=function(a,b){var c=a.path.match(/^(.*\/)?(.*)\.js$/);return(c[1]||"")+"nls/"+c[2]+"_"+b+".js"},j=function(){return b=[],d.forEach(function(a){var c=require(g(a));f(c,function(a){c[a]&&b.indexOf(a)<0&&b.push(a)})}),b},k=function(a,b){return a.root=a.root===!0||1===a.root?require(b.prefix+"root/"+b.suffix):a.root,a},l=function(b){var c={};return f(b,function(b){for(var d=a.getParentLocale(b);d&&"root"!==d;)c[d]=c[d]||{},c[d][b]=!0,d=a.getParentLocale(d)}),c},m=function(b,c,d){var f,h=b,i={};if(2===arguments.length&&(d=k(require(g(c)),c)),"root"!==h){for(;h&&"root"!==h;)d[h]&&(f=require(c.prefix+h+"/"+c.suffix),e(i,f)),h=a.getParentLocale(h);f=d.root,e(i,f)}else e(i,d);return i};return{addBundleToNlsLayer:function(a){d.push(a)},setLocalesList:function(a){b=a?a.slice():j(),b.indexOf("root")<0&&b.push("root")},reset:function(){d=[],b=void 0,c=void 0},getLayersContent:function(){var a={};return d.forEach(function(c){var d=k(require(g(c)),c),e=l(d);b.forEach(function(b){var f=m(b,c,d);a[b]=a[b]||"";var g;"root"!==b?(g=c.prefix+b+"/"+c.suffix,f._flattened=!0,f._pseudoRoot=e[b]||{}):g=c.prefix+c.suffix,a[b]+='define("'+g+'",'+JSON.stringify(f)+");"})}),a},writeLayers:function(a,b,c){f(a,function(a,d){d+="define('"+h(b)+"_"+a+"', true);",c(i(b,a),d)})},writeConfig:function(a,c,e){var f=d.map(g),i=h(c),j={config:{}};j.config[a]={bundlesMap:{},localesMap:{}},j.config[a].bundlesMap[i]=f,j.config[a].localesMap[i]=b,e("require.config("+JSON.stringify(j)+");")},resolveSync:m}}),define("requirejs-dplugins/i18n/common",["./parentLocale"],function(a){var b=/(^.*(?:^|\/)nls\/)([^\/]*)\/?([^\/]*)$/;return{eachProp:function(a,b){var c;for(c in a)a.hasOwnProperty(c)&&b(c,a[c])},getLocale:function(a){return a||(a="undefined"==typeof navigator?"root":navigator.language||navigator.userLanguage||"root"),a.toLowerCase()},getParentLocale:function(b){if(!b||"root"===b)return void 0;if(a[b])return a[b];var c=b.split("-");return c.pop(),c.length>0?c.join("-"):"root"},mixin:function c(a,b,d){var e;for(e in b)!b.hasOwnProperty(e)||a.hasOwnProperty(e)&&!d?"object"==typeof b[e]&&(!a[e]&&b[e]&&(a[e]={}),c(a[e],b[e],d)):a[e]=b[e]},parseName:function(a){var c=a.match(b);return{prefix:c[1],masterLocale:"root",requestedLocale:c[3]?c[2]:null,suffix:c[3]||c[2]}},getMasterMid:function(a){return"root"===a.masterLocale?a.prefix+a.suffix:a.prefix+a.masterLocale+"/"+a.suffix}}}),define("requirejs-dplugins/i18n/parentLocale",{"en-ag":"en-001","en-ai":"en-001","en-bb":"en-001","en-bm":"en-001","en-bs":"en-001","en-bw":"en-001","en-bz":"en-001","en-cc":"en-001","en-ck":"en-001","en-cm":"en-001","en-cx":"en-001","en-dm":"en-001","en-er":"en-001","en-fj":"en-001","en-fm":"en-001","en-gb":"en-001","en-gd":"en-001","en-gh":"en-001","en-gm":"en-001","en-gy":"en-001","en-jm":"en-001","en-ke":"en-001","en-ki":"en-001","en-kn":"en-001","en-ky":"en-001","en-lc":"en-001","en-lr":"en-001","en-ls":"en-001","en-mg":"en-001","en-ms":"en-001","en-mu":"en-001","en-mw":"en-001","en-na":"en-001","en-nf":"en-001","en-ng":"en-001","en-nr":"en-001","en-nu":"en-001","en-pg":"en-001","en-ph":"en-001","en-pn":"en-001","en-pw":"en-001","en-rw":"en-001","en-sb":"en-001","en-sc":"en-001","en-sd":"en-001","en-sl":"en-001","en-ss":"en-001","en-sx":"en-001","en-sz":"en-001","en-tc":"en-001","en-tk":"en-001","en-to":"en-001","en-tt":"en-001","en-tv":"en-001","en-tz":"en-001","en-ug":"en-001","en-vc":"en-001","en-vu":"en-001","en-ws":"en-001","en-za":"en-001","en-zm":"en-001","en-zw":"en-001","en-150":"en-gb","en-au":"en-gb","en-be":"en-gb","en-dg":"en-gb","en-fk":"en-gb","en-gg":"en-gb","en-gi":"en-gb","en-hk":"en-gb","en-ie":"en-gb","en-im":"en-gb","en-in":"en-gb","en-io":"en-gb","en-je":"en-gb","en-mo":"en-gb","en-mt":"en-gb","en-nz":"en-gb","en-pk":"en-gb","en-sg":"en-gb","en-sh":"en-gb","en-vg":"en-gb","es-ar":"es-419","es-bo":"es-419","es-cl":"es-419","es-co":"es-419","es-cr":"es-419","es-cu":"es-419","es-do":"es-419","es-ec":"es-419","es-gt":"es-419","es-hn":"es-419","es-mx":"es-419","es-ni":"es-419","es-pa":"es-419","es-pe":"es-419","es-pr":"es-419","es-py":"es-419","es-sv":"es-419","es-us":"es-419","es-uy":"es-419","es-ve":"es-419","pt-ao":"pt-pt","pt-cv":"pt-pt","pt-gw":"pt-pt","pt-mo":"pt-pt","pt-mz":"pt-pt","pt-st":"pt-pt","pt-tl":"pt-pt","az-cyrl":"root","bs-cyrl":"root","en-dsrt":"root","ha-arab":"root","mn-mong":"root","ms-arab":"root","pa-arab":"root","shi-latn":"root","sr-latn":"root","uz-arab":"root","uz-cyrl":"root","vai-latn":"root","zh-hant":"root","zh-hant-mo":"zh-hant-hk"}),define("requirejs-text/text!deliteful/Button/Button.html",[],function(){return'<template attach-point="focusNode">\n	<span attach-point="iconNode" class="d-reset d-inline d-icon {{this.iconClass ? this.iconClass : \'d-hidden\'}}"></span\n	><span attach-point="labelNode" class="d-reset d-inline" d-hidden="{{!this.label}}">{{label}}</span>\n</template>'}),define("deliteful/Button",["dcl/dcl","requirejs-dplugins/has","delite/register","delite/Widget","requirejs-dplugins/has!bidi?./Button/bidi/Button","delite/handlebars!./Button/Button.html","delite/theme!./Button/themes/{{theme}}/Button.css"],function(a,b,c,d,e,f){var g=a(d,{label:"",iconClass:"",baseClass:"d-button",template:f,preRender:function(){this.label||(this.label=this.textContent.trim(),this.innerHTML="")},computeProperties:function(a){("title"in a||"label"in a)&&(this.title=this.title||this.label||"")}}),h=c("d-button",b("bidi")?[HTMLButtonElement,g,e]:[HTMLButtonElement,g]);return h.Impl=g,h}),define("deliteful/Button/bidi/Button",["dcl/dcl"],function(a){return a(null,{refreshRendering:function(){this.containerNode.textContent=this.wrapWithUcc(this.containerNode.textContent),this.title&&(this.title=this.wrapWithUcc(this.title))}})}),define("deliteful/LinearLayout",["dojo/dom-class","delite/register","delite/DisplayContainer","delite/theme!./LinearLayout/themes/{{theme}}/LinearLayout.css"],function(a,b,c){return b("d-linear-layout",[HTMLElement,c],{baseClass:"d-linear-layout",vertical:!0,refreshRendering:function(b){"vertical"in b&&(a.toggle(this,"-d-linear-layout-v",this.vertical),a.toggle(this,"-d-linear-layout-h",!this.vertical))},postRender:function(){this.notifyCurrentValue("vertical")}})}),define("deliteful/list/List",["dcl/dcl","delite/register","dojo/_base/lang","dojo/when","dojo/dom-class","delite/keys","delite/CustomElement","delite/Selection","delite/KeyNav","delite/StoreMap","delite/Scrollable","./ItemRenderer","./CategoryRenderer","./_LoadingPanel","delite/theme!./List/themes/{{theme}}/List.css","requirejs-dplugins/has!dojo-bidi?delite/theme!./List/themes/{{theme}}/List_rtl.css"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=a([h,i,j,k],{itemRenderer:l,categoryRenderer:m,labelAttr:"label",iconclassAttr:"iconclass",righttextAttr:"righttext",righticonclassAttr:"righticonclass",categoryAttr:"",categoryFunc:null,baseClass:"d-list",multiCharSearchDuration:0,isAriaListbox:!1,_setScrollDirectionAttr:function(a){if("vertical"!==a&&"none"!==a)throw new TypeError("'"+a+"' not supported for scrollDirection, keeping the previous value of '"+this.scrollDirection+"'");this._set("scrollDirection",a)},_setSelectionModeAttr:a.superCall(function(a){return function(b){if(this.isAriaListbox&&"none"===b)throw new TypeError("selectionMode 'none' is invalid for an aria listbox, keeping the previous value of '"+this.selectionMode+"'");a.apply(this,arguments)}}),selectionMode:"none",loadingMessage:"",_cssClasses:{item:"d-list-item",category:"d-list-category",cell:"d-list-cell",selected:"d-selected",selectable:"d-selectable",multiselectable:"d-multiselectable"},render:function(){this.setAttribute("role",this.isAriaListbox?"listbox":"grid"),this.setAttribute("aria-readonly","true")},attachedCallback:a.superCall(function(a){return function(){this._setBusy(!0,!0),this.on("query-error",function(){this._setBusy(!1,!0)}.bind(this)),a.call(this)}}),refreshRendering:function(a){if("selectionMode"in a)if(e.remove(this,this._cssClasses.selectable),e.remove(this,this._cssClasses.multiselectable),this.removeAttribute("aria-multiselectable"),"none"===this.selectionMode)for(var b=0;b<this.children.length;b++){var c=this.children[b];c.renderNode.hasAttribute("aria-selected")&&(c.renderNode.removeAttribute("aria-selected"),e.remove(c,this._cssClasses.selected))}else for("single"===this.selectionMode||"radio"===this.selectionMode?e.add(this,this._cssClasses.selectable):(e.add(this,this._cssClasses.multiselectable),this.setAttribute("aria-multiselectable","true")),b=0;b<this.children.length;b++)c=this.children[b],e.contains(c,this._cssClasses.item)&&!c.renderNode.hasAttribute("aria-selected")&&(c.renderNode.setAttribute("aria-selected","false"),e.remove(c,this._cssClasses.selected))},computeProperties:function(a){"isAriaListbox"in a&&this._refreshAriaListboxProperty(),"selectionMode"in a&&("none"===this.selectionMode?this._selectionClickHandle&&(this._selectionClickHandle.remove(),this._selectionClickHandle=null):this._selectionClickHandle||(this._selectionClickHandle=this.on("click",c.hitch(this,"handleSelection")))),("itemRenderer"in a||this._isCategorized()&&("categoryAttr"in a||"categoryFunc"in a||"categoryRenderer"in a))&&this._dataLoaded&&(this._setBusy(!0,!0),this.notifyCurrentValue("store"))},destroy:function(){this.store&&this.store.list&&(this.store.list=null),this._hideLoadingPanel()},deliver:a.superCall(function(a){return function(){a.apply(this,arguments);for(var b=this.querySelectorAll("."+this._cssClasses.item+", ."+this._cssClasses.category),c=0;c<b.length;c++)b.item(c).deliver()}}),getItemRenderers:function(){return this.querySelectorAll("."+this._cssClasses.item)},getRendererByItemId:function(a){for(var b=this.getItemRenderers(),c=0;c<b.length;c++){var d=b.item(c);if(this.getIdentity(d.item)===a)return d}return null},getItemRendererByIndex:function(a){return a>=0?this.getItemRenderers().item(a):null},getItemRendererIndex:function(a){var b=-1;if(a.item)for(var c=this.getIdentity(a.item),d=this.getItemRenderers(),e=0;e<d.length;e++){var f=d.item(e);if(this.getIdentity(f.item)===c){b=e;break}}return b},getEnclosingRenderer:function(a){for(var b=a;b&&(!b.parentNode||b.parentNode!==this);)b=b.parentNode;return b},getIdentity:function(a){return this.store.getIdentity(a)},updateRenderers:function(a){if("none"!==this.selectionMode)for(var b=0;b<a.length;b++){var c=a[b],d=this.getRendererByItemId(this.getIdentity(c));if(d){var f=!!this.isSelected(c);d.renderNode.setAttribute("aria-selected",f?"true":"false"),e.toggle(d,this._cssClasses.selected,f)}}},hasSelectionModifier:function(){return!0},handleSelection:function(a){var b=this.getEnclosingRenderer(a.target);b&&(this.isCategoryRenderer(b)||this.selectFromEvent(a,b.item,b,!0))},_refreshAriaListboxProperty:function(){if(this.setAttribute("role",this.isAriaListbox?"listbox":"grid"),this.isAriaListbox){"none"===this.selectionMode&&(this.selectionMode="single");for(var a=this.querySelectorAll(".d-list-cell[role='gridcell']"),b=0;b<a.length;b++)a[b].setAttribute("role","option");for(a=this.querySelectorAll(".d-list-item[role='row']"),b=0;b<a.length;b++)a[b].removeAttribute("role");if(this._isCategorized())for(a=this.querySelectorAll(".d-list-category[role='row']"),b=0;b<a.length;b++)a[b].removeAttribute("role")}else{for(a=this.querySelectorAll(".d-list-cell[role='option']"),b=0;b<a.length;b++)a[b].setAttribute("role","gridcell");for(a=this.getItemRenderers(),b=0;b<a.length;b++)a[b].setAttribute("role","row");if(this._isCategorized())for(a=this.querySelectorAll(".d-list-category"),b=0;b<a.length;b++)a[b].setAttribute("role","row")}},_setBusy:function(a,b){a?(this.setAttribute("aria-busy","true"),b&&this._showLoadingPanel()):(this.removeAttribute("aria-busy"),this._hideLoadingPanel())},_showLoadingPanel:function(){this._loadingPanel||(this._loadingPanel=new n({message:this.loadingMessage}),void 0!==this.children[0]?this.insertBefore(this._loadingPanel,this.children[0]):this.appendChild(this._loadingPanel),this._loadingPanel.startup())},_hideLoadingPanel:function(){this._loadingPanel&&(this._loadingPanel.destroy(),this._loadingPanel=null)},_isCategorized:function(){return this.categoryAttr||this.categoryFunc},_empty:function(){this.findCustomElements(this).forEach(function(a){a.destroy&&a.destroy()}),this.innerHTML="",this._previousFocusedChild=null},_renderNewItems:function(a,b){if(this.firstElementChild&&this.firstElementChild!==this._loadingPanel)if(b){if(this._isCategorized()){var c=this._getFirstRenderer();this.isCategoryRenderer(c)&&a[a.length-1].category===c.item.category&&this._removeRenderer(c)}this.insertBefore(this._createRenderers(a,0,a.length,null),this.firstElementChild)}else this.appendChild(this._createRenderers(a,0,a.length,this._getLastRenderer().item));else this.appendChild(this._createRenderers(a,0,a.length,null));this.findCustomElements(this).forEach(function(a){a.startup&&a.startup()})},_createRenderers:function(a,b,c,d){for(var e,f=b,g=b+c-1,h=this.ownerDocument.createDocumentFragment();g>=f;f++)e=a[f],!this._isCategorized()||d&&e.category===d.category||h.appendChild(this._createCategoryRenderer(e)),h.appendChild(this._createItemRenderer(e)),d=e;return h},_addItemRenderer:function(a,b){var c=this._getInsertSpec(a,b);if(c.nodeRef){if(this.insertBefore(a,c.nodeRef),c.addCategoryAfter){var d=this._createCategoryRenderer(c.nodeRef.item);this.insertBefore(d,c.nodeRef),d.startup()}}else this.appendChild(a);c.addCategoryBefore&&(d=this._createCategoryRenderer(a.item),this.insertBefore(d,a),d.startup()),a.startup()},_getInsertSpec:function(a,b){var c={nodeRef:b>=0?this.getItemRendererByIndex(b):null,addCategoryBefore:!1,addCategoryAfter:!1};if(this._isCategorized()){var d=c.nodeRef?this._getNextRenderer(c.nodeRef,-1):this._getLastRenderer();d?this._sameCategory(a,d)||(this.isCategoryRenderer(d)?(c.nodeRef=d,d=this._getNextRenderer(d,-1),(!d||d&&!this._sameCategory(a,d))&&(c.addCategoryBefore=!0)):c.addCategoryBefore=!0):c.addCategoryBefore=!0,!c.nodeRef||this.isCategoryRenderer(c.nodeRef)||this._sameCategory(c.nodeRef,a)||(c.addCategoryAfter=!0)}return c},_removeRenderer:function(a,b){if(this._isCategorized()&&!this.isCategoryRenderer(a)){var c=this._getNextRenderer(a,-1);if(c&&this.isCategoryRenderer(c)){var d=this._getNextRenderer(a,1);d&&this._sameCategory(a,d)||this._removeRenderer(c)}}if(this._getFocusedRenderer()===a){var e=this._getNextRenderer(a,1)||this._getNextRenderer(a,-1);e&&this.navigateTo(e.renderNode)}b||this.isCategoryRenderer(a)||!this.isSelected(a.item)||this.selectFromEvent(null,a.item,a,!0),this._previousFocusedChild&&this.getEnclosingRenderer(this._previousFocusedChild)===a&&(this._previousFocusedChild=null),this.removeChild(a),a.destroy()},_createItemRenderer:function(a){var b=new this.itemRenderer({item:a,tabindex:"-1"});if("none"!==this.selectionMode){var c=!!this.isSelected(a);b.renderNode.setAttribute("aria-selected",c?"true":"false"),e.toggle(b,this._cssClasses.selected,c)}return b.deliver(),b},_createCategoryRenderer:function(a){var b=new this.categoryRenderer({item:a,tabindex:"-1"});return b.deliver(),b},isCategoryRenderer:function(a){return e.contains(a,this._cssClasses.category)},_sameCategory:function(a,b){return a.item.category===b.item.category},_getNextRenderer:function(a,b){return b>=0?a.nextElementSibling:a.previousElementSibling},_getFirstRenderer:function(){return this.querySelector("."+this._cssClasses.item+", ."+this._cssClasses.category)},_getLastRenderer:function(){var a=this.querySelectorAll("."+this._cssClasses.item+", ."+this._cssClasses.category);return a.length?a.item(a.length-1):null},initItems:function(a){this._empty(),this._renderNewItems(a,!1),this._setBusy(!1,!0),this._dataLoaded=!0,this.emit("query-success",{renderItems:a,cancelable:!1,bubbles:!0})},itemRemoved:function(a,b,c){var d=this.getItemRendererByIndex(a);d&&this._removeRenderer(d,c)},itemAdded:function(a,b){var c=this._createItemRenderer(b);this._addItemRenderer(c,a)},itemUpdated:function(a,b){var c=this.getItemRendererByIndex(a);c&&(c.item=b)},itemMoved:function(a,b,c,d){this.itemRemoved(a,d,!0),this.itemAdded(b,c,d)},getTopDistance:function(a){return Math.round(a.offsetTop-this.getCurrentScroll().y)},getBottomDistance:function(a){var b=this.getBoundingClientRect();return Math.round(a.offsetTop+a.offsetHeight-this.getCurrentScroll().y-(b.bottom-b.top))},descendantSelector:function(a){var b=this.getEnclosingRenderer(a);return!b||this.isAriaListbox&&this.isCategoryRenderer(b)?!1:e.contains(a,this._cssClasses.cell)||a.hasAttribute("navindex")},_keynavKeyDownHandler:a.before(function(a){a.defaultPrevented||(a.keyCode!==f.SPACE||this._searchTimer?this.isAriaListbox||this._gridKeydownHandler(a):this._spaceKeydownHandler(a))}),focus:function(){if(this._previousFocusedChild)this.navigateTo(this._previousFocusedChild);else{var a=this._getFirst();if(a){for(;a&&!(this.getTopDistance(a)>=0);){var b=a.parentNode.nextElementSibling;a=b?b.renderNode:null}this.navigateTo(a)}}},_keynavDeactivatedHandler:a.superCall(function(a){return function(){this._previousFocusedChild=this.navigatedDescendant,a.call(this)}}),_getFirst:function(){var a=this.querySelector("."+this._cssClasses.cell);return a&&this.isAriaListbox&&this.isCategoryRenderer(this.getEnclosingRenderer(a))&&(a=this.getNext(a,1)),
a},_getLast:function(){var a=this.querySelectorAll("."+this._cssClasses.cell),b=a.length?a.item(a.length-1):null;return b&&this.isAriaListbox&&this.isCategoryRenderer(this.getEnclosingRenderer(b))&&(b=this.getNext(b,-1)),b},downArrowKeyHandler:function(){if(!this.navigatedDescendant.hasAttribute("navindex")){var a=this._getFocusedRenderer().nextElementSibling;a&&this.isAriaListbox&&this.isCategoryRenderer(a)&&(a=a.nextElementSibling),this.navigateTo(a?a.renderNode:this._getFirst())}},upArrowKeyHandler:function(){if(!this.navigatedDescendant.hasAttribute("navindex")){var a=this._getFocusedRenderer().previousElementSibling;a&&this.isAriaListbox&&this.isCategoryRenderer(a)&&(a=a.previousElementSibling),this.navigateTo(a?a.renderNode:this._getLast())}},pageUpKeyHandler:function(){this.navigateToFirst()},pageDownKeyHandler:function(){this.navigateToLast()},getNext:function(a,b){if(a===this)return b>0?this._getFirst():this._getLast();var c=this.getEnclosingRenderer(a);return b>0?c.nextElementSibling?c.nextElementSibling.renderNode:this._getFirst():c.previousElementSibling?c.previousElementSibling.renderNode:this._getLast()},_spaceKeydownHandler:function(a){"none"!==this.selectionMode&&(a.preventDefault(),this.handleSelection(a))},_gridKeydownHandler:function(a){if(a.keyCode===f.ENTER||a.keyCode===f.F2)this.navigatedDescendant&&!this.navigatedDescendant.hasAttribute("navindex")&&(a.preventDefault(),this._enterActionableMode());else if(a.keyCode===f.TAB){if(this.navigatedDescendant&&this.navigatedDescendant.hasAttribute("navindex")){a.preventDefault();for(var b=this._getFocusedRenderer(),c=b[a.shiftKey?"getPrev":"getNext"](this.navigatedDescendant);!c;)b=b[a.shiftKey?"previousElementSibling":"nextElementSibling"]||this[a.shiftKey?"_getLast":"_getFirst"]().parentNode,c=b[a.shiftKey?"getLast":"getFirst"]();this.navigateTo(c)}}else a.keyCode===f.ESCAPE&&this._leaveActionableMode()},_enterActionableMode:function(){var a=this._getFocusedRenderer();if(a){var b=a.getFirst();b&&this.navigateTo(b)}},_leaveActionableMode:function(){this.navigateTo(this._getFocusedRenderer().renderNode)},_getFocusedRenderer:function(){return this.navigatedDescendant?this.getEnclosingRenderer(this.navigatedDescendant):null}});return b("d-list",[HTMLElement,o])}),define("requirejs-text/text!deliteful/list/List/_LoadingPanel.html",[],function(){return'<!-- Template: deliteful/list/_PageLoader (d-list-page-loader) -->\n<template class="d-list-loading-panel" requires="deliteful/ProgressIndicator">\n	<div class="d-list-loading-panel-info">\n		<d-progress-indicator active=\'true\'></d-progress-indicator>\n		<span>{{message}}</span>\n	</div>\n</template>'}),define("deliteful/list/_LoadingPanel",["dcl/dcl","delite/register","delite/Widget","delite/handlebars!./List/_LoadingPanel.html"],function(a,b,c,d){var e=a([c],{message:"",template:d});return b("d-list-loading-panel",[HTMLElement,e])}),define("requirejs-text/text!deliteful/list/List/CategoryRenderer.html",[],function(){return'<!-- Template: deliteful/list/CategoryRenderer.html (d-list-category-renderer) -->\n<template>\n	<div attach-point="renderNode">{{item.category}}</div>\n</template>'}),define("deliteful/list/CategoryRenderer",["dcl/dcl","delite/register","delite/handlebars!./List/CategoryRenderer.html","./Renderer"],function(a,b,c,d){var e=a(d,{baseClass:"d-list-category",template:c,attachedCallback:function(){"grid"===this.getParent().getAttribute("role")?(this.setAttribute("role","row"),this.renderNode.setAttribute("role","columnheader")):(this.renderNode.removeAttribute("tabindex"),this.renderNode.setAttribute("role","heading"))}});return b("d-list-category-renderer",[HTMLElement,e])}),define("deliteful/list/Renderer",["dcl/dcl","dojo/dom-class","delite/register","delite/Widget"],function(a,b,c,d){return a([d],{item:{},_focusableChildren:null,render:a.after(function(){if(!this.renderNode)throw new Error("render must define a renderNode property on the Renderer. Example using attach-point in a template: <template><div attach-point='renderNode'></div></template>");this.renderNode.tabIndex=-1,b.add(this.renderNode,"d-list-cell"),this.updateFocusableChildren()}),getFirst:function(){return this._focusableChildren&&this._focusableChildren.length?this._focusableChildren[0]:null},getLast:function(){return this._focusableChildren&&this._focusableChildren.length?this._focusableChildren[this._focusableChildren.length-1]:null},getNext:function(a){return this.getNextFocusableChild(a,1)},getPrev:function(a){return this.getNextFocusableChild(a,-1)},updateFocusableChildren:function(){if(this._focusableChildren)for(var a=0;a<this._focusableChildren.length;a++)delete this._focusableChildren[a].tabIndex;var b=Array.prototype.slice.call(this.renderNode.querySelectorAll("[navindex]"),0);for(this._focusableChildren=b.slice(0).sort(function(a,c){var d=parseInt(a.getAttribute("navindex"),10),e=parseInt(c.getAttribute("navindex"),10);return d===e?b.indexOf(a)-b.indexOf(c):d-e}),a=0;a<this._focusableChildren.length;a++){var c=this._focusableChildren[a];c.tabIndex=-1,c.id||(c.id=this.id+"-cell-"+a)}},getNextFocusableChild:function(a,b){if(this._focusableChildren&&a!==this){var c=a?this._focusableChildren.indexOf(a):-1,d=c+b;return d>=0&&d<this._focusableChildren.length?this._focusableChildren[d]:null}}})}),define("requirejs-text/text!deliteful/list/List/ItemRenderer.html",[],function(){return'<!-- Template: deliteful/list/ItemRenderer.html (d-list-item-renderer) -->\n<template>\n	<div attach-point="renderNode">\n		<div class="d-list-item-icon {{item.iconclass}}" aria-hidden="true" role="presentation"></div>\n		<div class="d-list-item-label">{{item.label}}</div>\n		<div class="d-spacer"></div>\n		<div class="d-list-item-right-text">{{item.righttext}}</div>\n		<div class="d-list-item-right-icon {{item.righticonclass}}" aria-hidden="true" role="presentation"></div>\n	</div>\n</template>\n'}),define("deliteful/list/ItemRenderer",["dcl/dcl","dojo/dom-class","delite/register","delite/handlebars!./List/ItemRenderer.html","./Renderer"],function(a,b,c,d,e){var f=a(e,{baseClass:"d-list-item",template:d,attachedCallback:function(){"grid"===this.getParent().getAttribute("role")?(this.setAttribute("role","row"),this.renderNode.setAttribute("role","gridcell")):this.renderNode.setAttribute("role","option")}});return c("d-list-item-renderer",[HTMLElement,f])}),define("dojo/dom-class",["./_base/lang","./_base/array","./dom"],function(a,b,c){function d(a){if("string"==typeof a||a instanceof String){if(a&&!g.test(a))return h[0]=a,h;var c=a.split(g);return c.length&&!c[0]&&c.shift(),c.length&&!c[c.length-1]&&c.pop(),c}return a?b.filter(a,function(a){return a}):[]}var e,f="className",g=/\s+/,h=[""],i={};return e={contains:function(a,b){return(" "+c.byId(a)[f]+" ").indexOf(" "+b+" ")>=0},add:function(a,b){a=c.byId(a),b=d(b);var e,g=a[f];g=g?" "+g+" ":" ",e=g.length;for(var h,i=0,j=b.length;j>i;++i)h=b[i],h&&g.indexOf(" "+h+" ")<0&&(g+=h+" ");e<g.length&&(a[f]=g.substr(1,g.length-2))},remove:function(b,e){b=c.byId(b);var g;if(void 0!==e){e=d(e),g=" "+b[f]+" ";for(var h=0,i=e.length;i>h;++h)g=g.replace(" "+e[h]+" "," ");g=a.trim(g)}else g="";b[f]!=g&&(b[f]=g)},replace:function(a,b,d){a=c.byId(a),i[f]=a[f],e.remove(i,d),e.add(i,b),a[f]!==i[f]&&(a[f]=i[f])},toggle:function(a,b,f){if(a=c.byId(a),void 0===f){b=d(b);for(var g,h=0,i=b.length;i>h;++h)g=b[h],e[e.contains(a,g)?"remove":"add"](a,g)}else e[f?"add":"remove"](a,b);return f}}});
//# sourceMappingURL=layer.map